This will document how to create a dictionary and implement it in Gltn.

### Install
`install_dictionary(format, url, name, id, icon)`

This function installs the dictionary and makes it lowest priority in the dictionary. You may need to move it higher on the list in order for your dictionary content to appear.
* format - "XML" or "HTML"
* url - The url to send a request to
* name - The name of the dictionary
* id - The internal id of the dictionary
* icon - The icon of the dictionary

### XML
This set of guidelines are fort he XML format for dictionaries

#### Request
The dictionary sens a GET request to the url provided with the single parameter of word with a value of the current search contents

#### XML Format
```XML
<?xml version="1.0" encoding="utf-8"?>
<dictionary>
    <word>
        <name>Overflow</name>
        <plural>Overflows</plural>
        <definition>
            <type>Noun</type>
            <text>The spillage resultant from overflow; excess.</text>
            <synonym>spillage;</synonym>
            <antonym>empty;</antonym>
        </definition>
        <pronunciation>
            <type>Noun</type>
            <text>/ˈəʊvəˌfləʊ/</text>
            <simple>oh-vur-floh</simple>
        </pronunciation>
        <etymology>
            <text>Latin</text>
        </etymology>   
    </word>
</dictionary>
```

As the system is currently linked to your own PHP page, you do not need to follow all these recommendations. However, this will enable the most compatibility with the Dictionary Panel.

Each entry is placed in a `word` tag. 
* name - The general name of the entry
* plural - A semicolon separated list of other ways to spell the word so that it still may be found
* definition - Several definitions may appear with these parameters
* * type - Noun, Verb, Adverb, etc.
* * text - The definition
* * synonym - A semicolon separated list of synonyms
* * antonym - A semicolon separated list of antonyms
* pronunciation - A way of indicating how to pronounce the word
* * type - Noun, Verb, Adverb, etc.
* * text - The traditional way of showing pronunciation
* * simple - A simpler, plaintext way of showing how to pronounce a word
* etymology - Showing a word's origin
* * text - The text showing the word's origin

#### Giving Proper Credit
Please give proper credit to the authors of the dictionary as well as any other notes by providing the credit tag in your XML

```XML
<dictionary>
    <credit>
        <text>Ouvert Dictionary - 2014</text>
    </credit>
</dictionary>
```

#### Return
At the end of the request, return a JSON object of the correct word to the system to properly process and format to the end user.

#### Error Handling
If a word is not found in the dictionary, return instead this as text (not JSON)

`$error = '{"error":"404"}';`

### HTML
This set of guidelines are for the HTML format for dictionaries

#### Request
The dictionary sends a GET request to the url provided with the single parameter of word with a value of the current search contents

#### Generating HTML
In the url provided, the current HTML must be generated. An iframe will be generated with the url provided in the form {url}?word={search}.

It is recommended that a mobile version of the site is returned in order to take advantage of the smaller screen size of the dictionary panel.

```PHP
$w = $_GET['word'];
$w = str_replace(' ', '%20', $w);

$opts = array(
    'http' => array(
        'user_agent' => 'Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML,     like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19',
        'method' => 'GET',
        'header' => 'Accept-language: en' . "\r\n" . 
                    'Cookie: foo=bar' . "\r\n",
    )
);
$context = stream_context_create($opts);

$out = file_get_contents('http://en.wikipedia.org/wiki/' . $w, false, $context);
```

#### Error Handling
If a given word is not available in your dictionary, instead of returning HTML, return "404" instead. This will indicate to the dictionary manager that a word is not available. The manager will move on to the next word or return no results.